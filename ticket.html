<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">    
    <title>Comprar tickets</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
</head>
<body>
    <nav class="navbar navbar-expand-md navbar-dark bg-dark ">
        <div class="container-fluid">
            <img src="img/codoacodo.png" style="width: 10%;">
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarCollapse">
                <ul class="navbar-nav me-auto mb-2 mb-md-0 ">
                    <li class="nav-item">
                        <a class="nav-link" aria-current="page" href="/CodoACodo-FrontEnd/#confe">La conferencia</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link " href="/CodoACodo-FrontEnd/#orad">Los oradores</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link " href="/CodoACodo-FrontEnd/#lugar">El lugar y la fecha</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link " href="/CodoACodo-FrontEnd/#conve">Conviertete en orador</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-success active" href="#">Comprar tickets</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container mt-5 px-4" style="max-width: 60vw;">
        <div class="row gx-2 text-center">
            <div class="col">
                <div class="border border-primary rounded">
                    <div class="p-2 bg-primary text-white">
                        <h4>Estudiante</h4>
                    </div>
                    <p>Tienen un descuento</p>
                    <h5>80%</h5>
                    <p>* presentar documentación</p>
                </div>
            </div>
            <div class="col">
                <div class="border border-success rounded">
                    <div class="p-2 bg-success text-white">
                        <h4>Trainee</h4>
                    </div>
                    <p>Tienen un descuento</p>
                    <h5>50%</h5>
                    <p>* presentar documentación</p>
                </div>
            </div>
            <div class="col">
                <div class="border border-warning rounded">
                    <div class="p-2 bg-warning text-white">
                        <h4>Junior</h4>
                    </div>
                    <p>Tienen un descuento</p>
                    <h5>15%</h5>
                    <p>* presentar documentación</p>
                </div>
            </div>
        </div>

        <div class="container mt-5">
            <div class="container text-center">
                <p><h6>VENTA</h6></p>
                <p><h2>VALOR DE TICKET $200</h2></p>
            </div>
    
            <form>
                <div class="container">
                    <div class="row">
                        <div class="col mb-3">
                            <input id="nombre" type="text" class="form-control" placeholder="Nombre" required>
                        </div>
                        <div class="col mb-3">
                            <input id="apellido" type="text" class="form-control" placeholder="Apellido" required>
                        </div>                        
                    </div>

                    <div class="mb-3">
                        <input id="correoElectronico" type="email" class="form-control" placeholder="Correo" required>
                    </div>
                    
                    <div class="row">
                        <div class="col mb-3">
                            <label for="">Cantidad</label>
                            <input id="cantidad" type="number" class="form-control" min="1" value="1" placeholder="Cantidad">
                        </div>
                        <div class="col mb-3">
                            <label for="">Categoria</label>
                            <select id="categoria" class="form-control">
                                <option value="1" selected>Sin categoria</option>
                                <option value="0.2">Estudiante</option>
                                <option value="0.5">Trainee</option>
                                <option value="0.85">Junior</option>
                            </select>
                        </div>                        
                    </div>

                    <div class="row text-center">
                        <div class="col mb-3 rounded py-2" style="background-color: #cce5ff;">
                            <span id="precioFinal" class="align-middle" style="color: #08468a; font-weight: bolder;">Total a pagar: $0</span>
                        </div>                     
                    </div>

                    <div class="row">
                        <div class="col mb-3">
                            <button type="button" class="btn btn-success col" onclick="borrarDatos()">Borrar</button>
                        </div> 
                        <div class="col mb-3">
                            <button type="button" class="btn btn-success col" onclick="obtenerValor()">Resumen</button>
                        </div> 
                    </div>
                </div>
            </form>
        </div>
    </div>    

    <div class="mt-5" style="background-color: #1e4f6d;">
        <footer class="py-3">
            <ul class="nav justify-content-center py-3 ">
                <li class="nav-item"><a href="#" class="nav-link px-4 text-white ">Preguntas frecuentas</a></li>
                <li class="nav-item"><a href="#" class="nav-link px-4 text-white">Contactanos</a></li>
                <li class="nav-item"><a href="#" class="nav-link px-4 text-white">Prensa</a></li>
                <li class="nav-item"><a href="#" class="nav-link px-4 text-white">Conferencias</a></li>
                <li class="nav-item"><a href="#" class="nav-link px-4 text-white">Terminos y condiciones</a></li>
                <li class="nav-item"><a href="#" class="nav-link px-4 text-white">Privacidad</a></li>
                <li class="nav-item"><a href="#" class="nav-link px-4 text-white">Estudiantes</a></li>
            </ul>
        </footer>
    </div>
</body>
<style>
    @keyframes animacion-error {
        0% {
            border-color: grey;
            box-shadow: 0 0 0px grey;
        }
        50% {
            border-color: red;
            box-shadow: 0 0 5px red;
        }
        100% {
            border-color: grey;
            box-shadow: 0 0 0px grey;
        }
    }

.error {
  animation: animacion-error 2s forwards;
}
    
</style>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
<script>
    function borrarDatos() {
        document.getElementById("nombre").value = "";
        document.getElementById("apellido").value = "";
        document.getElementById("correoElectronico").value = "";
        document.getElementById("cantidad").value = 1;
        document.getElementById("precioFinal").textContent = "Total a pagar: $0";
        document.getElementById("categoria").selectedIndex = 0;
    }

    function validar() {
        let nombre = document.getElementById("nombre");
        let apellido = document.getElementById("apellido");
        let correo = document.getElementById("correoElectronico");
        let bandera = false;
        let mensajeDeError = "Por favor complete los siguientes campos: \n";

        if (nombre.value === "") {
            mensajeDeError += "- Nombre\n";
            nombre.classList.add("error");
                setTimeout(function() {
                    nombre.classList.remove("error");
                }, 2000);
            bandera = true;
        }
        
        if (apellido.value === "") {
            mensajeDeError += "- Apellido\n";
            apellido.classList.add("error");
                setTimeout(function() {
                    apellido.classList.remove("error");
                }, 2500);
            bandera = true;
        }

        if (correo.value === "") {
            mensajeDeError += "- Correo electronico";
            correo.classList.add("error");
                setTimeout(function() {
                    correo.classList.remove("error");
                }, 2500);
            bandera = true;
        }
        else {
            if(!correo.checkValidity()) {
                mensajeDeError += "- Correo electronico valido";
                correo.classList.add("error");
                setTimeout(function() {
                    correo.classList.remove("error");
                }, 2500);
                bandera = true;
            }
        }

        if (bandera) {
            alert(mensajeDeError);
            return false;
        }
        else {
            return true;
        }
    }

    function obtenerValor() {
        if (validar()) {
            let cantidadEntradas = Number(document.getElementById("cantidad").value);
            let precioFinal = document.getElementById("precioFinal");
            let categoria = Number(document.getElementById("categoria").value);
            precioFinal.textContent = "Total a pagar: $" + ((cantidadEntradas * 200) * categoria);
        }
    }
</script>
</html>